const l="astro:hydrate";function w(t,a=20){let i=0;return(...n)=>{clearTimeout(i),i=setTimeout(()=>t(...n),a)}}const f=w(()=>{document.querySelector("astro-root[ssr]")&&window.dispatchEvent(new CustomEvent(l))}),m=t=>window.addEventListener(l,t,{once:!0});window[l]||("MutationObserver"in window&&new MutationObserver(f).observe(document.body,{subtree:!0,childList:!0}),window[l]=!0);async function b(t,a,i){let o=null,n;async function u(){m(u);const c=async()=>{var d;const r=document.querySelectorAll(`astro-root[ssr][uid="${t}"]`);if(r.length!==0){if(typeof o!="string"){let e=r[0].querySelector("astro-fragment");if(e==null&&r[0].hasAttribute("tmpl")){let s=r[0].querySelector("template[data-astro-template]");s&&(o=s.innerHTML,s.remove())}else e&&(o=e.innerHTML)}n||(n=await i());for(const e of r)(d=e.parentElement)!=null&&d.closest("astro-root[ssr]")||(await n(e,o),e.removeAttribute("ssr"));f()}};"requestIdleCallback"in window?window.requestIdleCallback(c):setTimeout(c,200)}u()}export{b as default};
